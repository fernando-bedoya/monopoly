/* Estilos extraídos desde game.html (panel de estadísticas y toasts) */
.player-stats-panel {background:linear-gradient(135deg,#ffffff 0%,#f1f5f9 100%);border:1px solid #dbe2ea;padding:14px 18px;border-radius:14px;display:flex;gap:28px;align-items:flex-start;margin-top:12px;position:relative;overflow:hidden}
.player-stats-panel:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 85% 15%,rgba(0,123,255,0.15),transparent 60%);pointer-events:none}
.player-current h4{font-size:15px;text-transform:uppercase;letter-spacing:.5px;font-weight:700;margin:0 0 6px;color:#0d6efd;display:flex;align-items:center;gap:6px}
.player-current p{margin:2px 0;font-size:13px;display:flex;justify-content:space-between;font-family:system-ui,Segoe UI,Roboto,sans-serif;color:#334155}
.player-current p strong{font-weight:600;color:#1e293b}
.players-summary h5{margin:0 0 6px;font-size:13px;font-weight:600;color:#475569;letter-spacing:.5px;text-transform:uppercase}
.players-summary ul{list-style:none;margin:0;padding:0;max-height:150px;overflow:auto;scrollbar-width:thin}
.players-summary li{display:grid;grid-template-columns:18px 1fr auto auto auto;gap:6px;align-items:center;padding:4px 6px;border-radius:6px;font-size:12px;font-weight:500;color:#475569;transition:background .2s}
.players-summary li:hover{background:#e2e8f0}
.players-summary .ps-active{color:#0d6efd;font-weight:700}
.ps-token{width:16px;height:16px;border-radius:50%;box-shadow:0 0 0 2px #fff,0 0 0 3px rgba(0,0,0,.1)}
.stat-badge{display:inline-block;background:#0d6efd;color:#fff;font-size:11px;padding:2px 6px;border-radius:20px;font-weight:600;box-shadow:0 2px 4px rgba(13,110,253,.3)}
.player-stats-panel .money{font-weight:700;color:#16a34a}
.player-stats-panel .danger{color:#dc2626;font-weight:600}
.player-stats-panel .warning{color:#d97706;font-weight:600}
@media (max-width:900px){.player-stats-panel{flex-direction:column}}

/* Toast / Notificaciones ligeras */
#toastContainer {position:fixed;bottom:18px;right:18px;display:flex;flex-direction:column;gap:10px;z-index:9999;max-width:340px;font-family:system-ui,Segoe UI,Roboto,sans-serif}
.toast-msg {display:flex;align-items:flex-start;gap:10px;padding:10px 14px;border-radius:10px;background:#fff;box-shadow:0 4px 14px -2px rgba(0,0,0,.18),0 2px 4px -1px rgba(0,0,0,.08);border-left:5px solid transparent;animation:toastIn .35s ease;position:relative;overflow:hidden}
.toast-msg.fade-out {opacity:0;transform:translateX(40px);transition:all .35s ease}
.toast-icon {font-size:20px;line-height:1}
.toast-content {flex:1;min-width:0}
.toast-title {margin:0;font-size:13px;font-weight:600;letter-spacing:.3px;color:#1e293b}
.toast-text {margin:2px 0 0;font-size:12px;line-height:1.3;color:#475569;word-break:break-word}
.toast-close {background:transparent;border:none;color:#64748b;cursor:pointer;font-size:16px;line-height:1;padding:2px 4px;border-radius:4px}
.toast-close:hover {background:#f1f5f9;color:#0f172a}
.toast-success {border-left-color:#16a34a}
.toast-success .toast-icon {color:#16a34a}
.toast-info {border-left-color:#0d6efd}
.toast-info .toast-icon {color:#0d6efd}
.toast-warning {border-left-color:#d97706}
.toast-warning .toast-icon {color:#d97706}
.toast-error {border-left-color:#dc2626}
.toast-error .toast-icon {color:#dc2626}
@keyframes toastIn {from {opacity:0;transform:translateX(40px)} to {opacity:1;transform:translateX(0)}}
@media (max-width:640px){#toastContainer{left:12px;right:12px;bottom:12px;max-width:none}}

/* -------------------- MODALES HIPOTECA / DESHIPOTECA -------------------- */
.modal-hipoteca-overlay, .modal-deshipoteca-overlay {position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:9999;}
.modal-hipoteca, .modal-deshipoteca {background:#fff; width:min(440px,92%); border-radius:16px; box-shadow:0 12px 40px -5px rgba(0,0,0,.35); overflow:hidden; font-family:system-ui,Segoe UI,Roboto,sans-serif; animation:hipoPop .35s ease;}
.modal-hipoteca-header, .modal-deshipoteca-header {background:linear-gradient(135deg,#fbbf24,#f59e0b); padding:16px 18px; color:#fff; display:flex; align-items:center; gap:10px;}
.modal-deshipoteca-header {background:linear-gradient(135deg,#0ea5e9,#0369a1);}
.modal-hipoteca-header h5, .modal-deshipoteca-header h5 {margin:0; font-size:16px; font-weight:600; letter-spacing:.5px; display:flex; align-items:center; gap:6px;}
.modal-close-btn {margin-left:auto; background:rgba(255,255,255,.25); border:none; color:#fff; width:32px; height:32px; border-radius:10px; cursor:pointer; font-size:16px; line-height:1; display:flex; align-items:center; justify-content:center; transition:.25s}
.modal-close-btn:hover {background:rgba(255,255,255,.4)}
.modal-hipoteca-body, .modal-deshipoteca-body {padding:18px 20px 12px; max-height:60vh; overflow:auto;}
.hipoteca-alert {display:none; background:#fef3c7; border:1px solid #fde68a; color:#92400e; padding:8px 10px; border-radius:8px; font-size:12px; margin-bottom:12px;}
.hipoteca-property {display:flex; align-items:center; gap:12px; margin-bottom:14px;}
.hipoteca-color-box {width:28px; height:28px; border-radius:8px; border:2px solid #fff; box-shadow:0 2px 6px rgba(0,0,0,.2); background:#ccc;}
.hipoteca-property-info-name {font-weight:600; font-size:15px; color:#111827;}
.hipoteca-property-info-desc {font-size:11px; color:#6b7280; margin-top:2px;}
.hipoteca-grid {display:grid; grid-template-columns:repeat(2,1fr); gap:12px;}
.hipo-card {background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:10px 12px;}
.hipo-card.highlight {background:linear-gradient(135deg,#fef3c7,#fde68a); border-color:#fcd34d;}
.hipo-card.success {background:linear-gradient(135deg,#dcfce7,#bbf7d0); border-color:#86efac;}
.hipo-label {font-size:10px; text-transform:uppercase; letter-spacing:.6px; color:#64748b; font-weight:600; margin-bottom:4px;}
.hipo-value {font-size:18px; font-weight:700; color:#111827;}
.hipo-card.highlight .hipo-value {color:#92400e; font-weight:800;}
.hipo-card.success .hipo-value {color:#166534; font-weight:800;}
.hipo-warning-box {margin-top:16px; background:#f8fafc; border:1px solid #e2e8f0; border-radius:14px; padding:12px 14px;}
.hipo-warning-title {font-size:12px; font-weight:600; letter-spacing:.5px; color:#334155; margin:0 0 6px; display:flex; align-items:center; gap:6px;}
.hipo-warning-box ul {margin:0; padding-left:20px; font-size:12px; color:#475569; line-height:1.35;}
.hipoteca-footer, .deshipoteca-footer {display:flex; gap:12px; padding:16px 18px; background:#f1f5f9; border-top:1px solid #e2e8f0;}
.modal-btn {flex:1; border:none; padding:10px 16px; border-radius:12px; font-weight:600; font-size:14px; cursor:pointer; font-family:inherit; transition:.25s; display:flex; align-items:center; justify-content:center; gap:6px;}
.modal-btn.cancel {background:#e2e8f0; color:#334155;}
.modal-btn.cancel:hover {background:#cbd5e1;}
.modal-btn.action {background:linear-gradient(135deg,#fbbf24,#f59e0b); color:#fff; box-shadow:0 4px 12px -2px rgba(245,158,11,.5); font-weight:700;}
.modal-btn.action:hover {background:linear-gradient(135deg,#f59e0b,#d97706);}
.modal-btn.unmortgage {background:linear-gradient(135deg,#0ea5e9,#0369a1); box-shadow:0 4px 12px -2px rgba(3,105,161,.45);}
.modal-btn.unmortgage:hover {background:linear-gradient(135deg,#0284c7,#075985);}
@keyframes hipoPop {from {opacity:0; transform:translateY(30px) scale(.95);} to {opacity:1; transform:translateY(0) scale(1);} }
@media (max-width:550px){.hipoteca-grid{grid-template-columns:1fr}.hipo-card{padding:8px 10px}.hipo-value{font-size:16px}}

/* ================= TOP STATUS BAR (Player & Game HUD) ================= */
.top-status-bar{display:flex;gap:18px;align-items:stretch;background:linear-gradient(120deg,#1f3f5f 0%,#255d85 55%,#2d7fb1 100%);color:#f1f7fa;padding:16px 24px 20px;border-radius:26px;margin-top:10px;box-shadow:0 10px 26px -8px rgba(0,32,61,.55),0 4px 10px -2px rgba(0,0,0,.35);flex-wrap:wrap;font-family:system-ui,Segoe UI,Roboto,Arial,sans-serif;position:relative;overflow:hidden}
.top-status-bar:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 85% 18%,rgba(255,255,255,.18),transparent 62%);mix-blend-mode:overlay;pointer-events:none}
.top-status-bar .tsb-section{display:flex;flex-direction:column;gap:4px;position:relative}
.game-info{flex:0 0 auto;min-width:110px;font-size:12px;line-height:1.15}
.game-info .gi-line{display:flex;justify-content:space-between;gap:6px;padding:2px 6px;background:#334155;border-radius:6px}
.game-info .gi-line span{opacity:.75}
.player-core{flex:1 1 560px;min-width:340px;background:linear-gradient(135deg,#f5f9fc,#d9ecf7 60%,#bfe2f3);padding:16px 18px 18px;border-radius:20px;display:flex;flex-direction:column;gap:12px;position:relative;overflow:hidden;border:1px solid rgba(0,0,0,.08);color:#0f2940}
.player-core:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 72% 22%,rgba(255,163,102,.25),transparent 65%);pointer-events:none;mix-blend-mode:normal}
.pc-header{display:flex;align-items:center;gap:10px}
.pc-token{width:54px;height:54px;border-radius:16px;background:linear-gradient(135deg,#ffb347,#ff7e5f);box-shadow:0 4px 14px -4px rgba(0,0,0,.35),0 0 0 4px #fff,0 0 0 6px rgba(0,0,0,.08);border:2px solid rgba(255,255,255,.7)}
.pc-main{display:flex;flex-direction:column;line-height:1.1}
.pc-name{font-weight:700;font-size:20px;letter-spacing:.5px;color:#0d395a}
.pc-country{font-size:13px;opacity:.95;display:flex;gap:6px;align-items:center;font-weight:500;color:#155071}
.pc-money{margin-left:auto;font-size:28px;font-weight:700;font-variant-numeric:tabular-nums;color:#15803d;display:flex;align-items:center;gap:6px;text-shadow:none}
.pc-country .flag-img{width:26px;height:18px;object-fit:cover;border-radius:4px;border:1px solid #0d395a;box-shadow:0 1px 3px rgba(0,0,0,.25);background:#fff}
.pc-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(78px,1fr));gap:8px;margin-top:4px}
.pc-item{background:linear-gradient(135deg,#ffffff,#f0f7fb);border:1px solid #c4d9e6;border-radius:12px;padding:8px 8px;font-size:12px;display:flex;align-items:center;justify-content:center;gap:6px;min-height:50px;flex-wrap:wrap;line-height:1.05;font-variant-numeric:tabular-nums;position:relative;box-shadow:0 2px 5px -2px rgba(0,0,0,.25);color:#0d395a}
.pc-item{flex-direction:column;text-align:center}
.pc-item .pc-label{font-size:11px;font-weight:600;letter-spacing:.2px;opacity:.8;text-transform:uppercase;line-height:1.1}
.pc-item .pc-val{font-size:15px;font-weight:700;line-height:1.1;margin-top:2px}
@media (max-width:900px){.pc-item .pc-val{font-size:14px}.pc-item .pc-label{font-size:10px}}
.pc-item span{font-weight:600;color:#e2e8f0}
.pc-item[title]:hover{background:#24334b}
.players-compact{flex:1 1 300px;min-width:240px;background:linear-gradient(135deg,#f5f9fc,#e0f2f8);padding:12px 14px 14px;border-radius:20px;display:flex;border:1px solid rgba(0,0,0,.08);position:relative;color:#0f2940}
.players-compact:before{content:"";position:absolute;inset:0;background:radial-gradient(circle at 22% 28%,rgba(255,179,71,.22),transparent 60%);pointer-events:none;mix-blend-mode:normal}
.players-row{list-style:none;margin:0;padding:0;display:flex;gap:6px;overflow-x:auto;scrollbar-width:thin}
.players-row li{background:linear-gradient(135deg,#ffffff,#f1f8fb);border:1px solid #c4d9e6;border-radius:14px;padding:8px 10px;display:flex;flex-direction:column;gap:4px;min-width:110px;position:relative;font-size:11px;box-shadow:0 3px 8px -3px rgba(0,0,0,.25);color:#0d395a}
.players-row li.ps-active{outline:2px solid #38bdf8;outline-offset:0}
.players-row .ps-line{display:flex;justify-content:space-between;gap:4px;font-variant-numeric:tabular-nums}
.players-row .ps-money{color:#10b981;font-weight:600}
.players-row .ps-metrics{display:flex;gap:4px;flex-wrap:wrap}
.players-row .ps-metrics span{display:inline-flex;align-items:center;gap:2px;background:#334155;padding:2px 4px;border-radius:4px}
.players-row .ps-token{width:16px;height:16px;border-radius:50%;box-shadow:0 0 0 2px #fff,0 0 0 4px rgba(0,0,0,.07)}
.players-row::-webkit-scrollbar{height:6px}
.players-row::-webkit-scrollbar-track{background:#0f172a;border-radius:6px}
.players-row::-webkit-scrollbar-thumb{background:#334155;border-radius:6px}
.players-row::-webkit-scrollbar-thumb:hover{background:#475569}
@media (max-width:1100px){.pc-grid{grid-template-columns:repeat(auto-fill,minmax(70px,1fr))}.pc-item{font-size:11px;min-height:40px}.pc-name{font-size:17px}.pc-money{font-size:22px}}
@media (max-width:820px){.top-status-bar{flex-direction:column;padding:10px}.players-compact{order:3}.player-core{order:2}.game-info{order:1;display:flex;flex-direction:row;gap:6px}.game-info .gi-line{flex-direction:column;align-items:flex-start;min-width:70px}}
@media (max-width:540px){.pc-grid{grid-template-columns:repeat(auto-fill,minmax(64px,1fr))}.pc-item{padding:4px 4px;font-size:10px;min-height:38px}.pc-token{width:46px;height:46px}.pc-money{font-size:19px}.players-row li{min-width:92px}}

/* ==============================
	Ajustes de Contraste (Override)
	============================== */
.player-core, .players-compact, .players-row li, .pc-item { color:#0b2e4f; }
.pc-item { background:linear-gradient(135deg,#fdfefe,#eef5f9); border-color:#b2c8d6; }
.pc-item .pc-label { color:#0b2e4f; opacity:1; font-weight:600; }
.pc-item .pc-val { color:#062237; }
.pc-money { color:#0d4d2a; }
.pc-name { color:#082b46; }
.pc-country { color:#0a3856; }
.players-row li { background:linear-gradient(135deg,#ffffff,#e9f2f7); border-color:#b8cedb; }
.players-row li .ps-name, .players-row li .ps-money { color:#0b2e4f !important; }
.top-status-bar { color:#062237; }
.top-status-bar .game-info .gi-line span, .top-status-bar .game-info .gi-line strong { color:#062237; }
.pc-item:focus-within, .pc-item:hover { background:linear-gradient(135deg,#ffffff,#e5eef3); }
.pc-item .pc-val.highlight-change { animation:flashMetricStrong 1.6s ease; }
@keyframes flashMetricStrong { 0%{background:rgba(255,193,7,.55);box-shadow:0 0 0 0 rgba(255,193,7,.6);} 60%{background:rgba(255,193,7,.15);} 100%{background:transparent;box-shadow:none;} }
.pc-money.negative{color:#ef4444}
.pc-item.highlight{animation:flashMetric 1.2s ease-in-out 1}
@keyframes flashMetric{0%{box-shadow:0 0 0 0 #38bdf8}70%{box-shadow:0 0 0 6px rgba(56,189,248,0)}100%{box-shadow:0 0 0 0 rgba(56,189,248,0)}}


/* ===== MODAL GANADOR ===== */
.winner-modal-overlay {position: fixed;inset: 0;background: rgba(15,23,42,.65);display: flex;align-items: center;justify-content: center;backdrop-filter: blur(4px);z-index: 9999;opacity: 0;transition: opacity .3s ease;}
.winner-modal-overlay.show { opacity: 1; }
.winner-modal {background: linear-gradient(135deg,#ffffff,#f1f5f9 60%);border:1px solid #e2e8f0;width:min(680px, 92%);max-height:88vh;border-radius:20px;padding:32px 36px 40px;box-shadow:0 20px 45px -12px rgba(0,0,0,.25),0 4px 16px -4px rgba(0,0,0,.2);position:relative;overflow:auto;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,sans-serif;animation:popWinner .45s cubic-bezier(.16,.8,.24,1);} 
@keyframes popWinner { from { transform: translateY(30px) scale(.95); opacity:0;} to { transform: translateY(0) scale(1); opacity:1;} }
.winner-close {position:absolute;top:10px;right:12px;border:none;background:#f1f5f9;color:#334155;width:34px;height:34px;border-radius:50%;font-size:20px;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background .25s;}
.winner-close:hover {background:#e2e8f0;}
.winner-title {margin:0 0 12px;font-size:2rem;line-height:1.1;text-align:center;font-weight:700;background:linear-gradient(90deg,#0f172a,#334155);background-clip:text;-webkit-background-clip:text;color:transparent;}
.winner-main {text-align:center;margin:6px 0 24px;}
.winner-player {font-size:1.7rem;font-weight:600;color:#0f172a;margin-bottom:8px;}
.winner-patrimonio {font-size:2.2rem;font-weight:700;color:#065f46;letter-spacing:.5px;}
.winner-subtitle {margin:0 0 12px;font-size:1.1rem;font-weight:600;color:#334155;text-transform:uppercase;letter-spacing:.5px;}
.winner-ranking {list-style:none;padding:0;margin:0 0 28px;display:flex;flex-direction:column;gap:10px;}
.winner-ranking li {display:flex;justify-content:space-between;align-items:center;background:#ffffff;padding:12px 16px;border:1px solid #e2e8f0;border-radius:12px;font-size:.95rem;box-shadow:0 2px 4px rgba(0,0,0,.04);transition:transform .25s, box-shadow .25s;}
.winner-ranking li:hover {transform:translateY(-2px);box-shadow:0 6px 16px -6px rgba(0,0,0,.25);}
.winner-ranking li:first-child {border:1px solid #fbbf24;background:linear-gradient(135deg,#fff7ed,#fffbeb);}
.winner-ranking li:nth-child(2) {border:1px solid #94a3b8;background:linear-gradient(135deg,#f8fafc,#f1f5f9);}
.winner-ranking li:nth-child(3) {border:1px solid #fb923c;background:linear-gradient(135deg,#fff7ed,#ffedd5);}
.winner-ranking .rk-left {font-weight:600;color:#0f172a;display:flex;gap:6px;align-items:center;}
.winner-ranking .rk-right {font-weight:600;color:#0f172a;}
.winner-ranking .hipotecas {color:#be123c;font-weight:500;}
.winner-actions {display:flex;justify-content:center;gap:14px;}
.winner-btn {cursor:pointer;border:none;border-radius:10px;padding:12px 26px;font-size:.95rem;font-weight:600;letter-spacing:.3px;display:inline-flex;align-items:center;gap:6px;background:#e2e8f0;color:#0f172a;transition:background .25s, transform .25s;}
.winner-btn.primary {background:#0f172a;color:#fff;}
.winner-btn.primary:hover {background:#1e293b;}
.winner-btn:hover {background:#cbd5e1;}
.winner-btn:active {transform:scale(.96);}
@media (max-width:520px){.winner-modal{padding:26px 22px 34px}.winner-title{font-size:1.65rem}.winner-player{font-size:1.35rem}.winner-patrimonio{font-size:1.9rem}.winner-ranking li{padding:10px 12px}}


